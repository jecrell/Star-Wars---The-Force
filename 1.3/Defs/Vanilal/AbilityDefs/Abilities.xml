<?xml version="1.0" encoding="utf-8" ?>
<Defs>


  <AbilityDef Name="PsycastBaseSkip" ParentName="PsycastBase" Abstract="True">
    <category>Skip</category>
  </AbilityDef>
  
  <AbilityDef ParentName="PsycastBase">
    <defName>Painblock</defName>
    <label>painblock</label>
    <description>Block pain pathways in the target's brain for a short time. This can allow a person to move and act even with grievous injuries which would normally incapacitate them.</description>
    <level>1</level>
    <iconPath>UI/Abilities/Painblock</iconPath>
    <hotKey>Misc1</hotKey>
    <statBases>
      <Ability_EntropyGain>8</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.02</Ability_PsyfocusCost>
      <Ability_Duration>120</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicAnesthesia</hediffDef>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <psychic>True</psychic>
        <applicableToMechs>False</applicableToMechs>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Stun</defName>
    <label>stun</label>
    <description>Momentarily disrupt motor function in the target's brain, preventing any movement.</description>
    <level>1</level>
    <iconPath>UI/Abilities/Stun</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc3</hotKey>
    <statBases>
      <Ability_EntropyGain>12</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.01</Ability_PsyfocusCost>
      <Ability_Duration>3</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetAnimals>True</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityEffectWithDuration">
        <compClass>CompAbilityEffect_Stun</compClass>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <psychic>True</psychic>
        <goodwillImpact>-15</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Burden</defName>
    <label>burden</label>
    <description>Slow the target for a short time by suppressing motor activity in the brain.</description>
    <level>1</level>
    <iconPath>UI/Abilities/Burden</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc4</hotKey>
    <statBases>
      <Ability_EntropyGain>8</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.01</Ability_PsyfocusCost>
      <Ability_Duration>20</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>29.9</range>
      <targetParams>
        <canTargetAnimals>True</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicBurden</hediffDef>
        <psychic>True</psychic>
        <goodwillImpact>-15</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>BlindingPulse</defName>
    <label>blinding pulse</label>
    <description>Induce noise in the visual centers of the brain, obscuring vision of everyone near the target point.</description>
    <level>2</level>
    <iconPath>UI/Abilities/BlindingPulse</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc5</hotKey>
    <statBases>
      <Ability_EntropyGain>20</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.01</Ability_PsyfocusCost>
      <Ability_Duration>30</Ability_Duration>
      <Ability_EffectRadius>3.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicBlindness</hediffDef>
        <onlyBrain>True</onlyBrain>
        <psychic>True</psychic>
        <goodwillImpact>-15</goodwillImpact>
        <applyGoodwillImpactToLodgers>False</applyGoodwillImpactToLodgers>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <!--
  <AbilityDef ParentName="PsycastBase">
    <defName>EntropyLink</defName>
    <label>entropy link</label>
    <description>Form a psychic link between caster and target, so that gain and loss of neural heat is shared between both equally. The link lasts for some time, but will break if the two move far apart.</description>
    <level>2</level>
    <iconPath>UI/Abilities/EntropyLink</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>10</Ability_EntropyGain>
      <Ability_Duration>120</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>14.9</range>
      <targetParams>
        <onlyTargetControlledPawns>True</onlyTargetControlledPawns>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>EntropyLink</hediffDef>
        <psychic>True</psychic>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <applyToSelf>True</applyToSelf>
        <replaceExisting>True</replaceExisting>
      </li>
    </comps>
  </AbilityDef>
  -->

  <AbilityDef ParentName="PsycastBase">
    <defName>EntropyDump</defName>
    <label>neural heat dump</label>
    <description>Instantly dump all your neural heat into someone else. As a side-effect, the target will fall into a debilitating but non-damaging coma for about a day. The target must actively accept the psychic invasion, so only conscious allies can be targeted.</description>
    <level>2</level>
    <iconPath>UI/Abilities/EntropyDump</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>0</Ability_EntropyGain>
      <Ability_Duration>1000</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <onlyTargetColonists>True</onlyTargetColonists>
        <neverTargetIncapacitated>True</neverTargetIncapacitated>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicComa</hediffDef>
      </li>
      <li Class="CompProperties_AbilityTransferEntropy">
        <psychic>True</psychic>
        <targetReceivesEntropy>False</targetReceivesEntropy>
        <goodwillImpact>-15</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Beckon</defName>
    <label>beckon</label>
    <description>Psychically command the target to approach the caster.</description>
    <level>3</level>
    <iconPath>UI/Abilities/Beckon</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc6</hotKey>
    <statBases>
      <Ability_EntropyGain>20</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.01</Ability_PsyfocusCost>
      <Ability_Duration>8</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>19.9</range>
      <targetParams>
        <canTargetAnimals>True</canTargetAnimals>
        <neverTargetIncapacitated>True</neverTargetIncapacitated>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityForceJob">
        <compClass>CompAbilityEffect_ForceJob</compClass>
        <jobDef>GotoMindControlled</jobDef>
        <destination>Caster</destination>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <psychic>True</psychic>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>VertigoPulse</defName>
    <label>vertigo pulse</label>
    <description>Interfere with the spatial orientation sense of everyone near the target point, causing intermittent loss of balance. Flesh creatures will become extremely nauseous as well.</description>
    <level>3</level>
    <iconPath>UI/Abilities/NauseaPulse</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc7</hotKey>
    <statBases>
      <Ability_EntropyGain>30</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.02</Ability_PsyfocusCost>
      <Ability_Duration>20</Ability_Duration>
      <Ability_EffectRadius>3.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicVertigo</hediffDef>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <psychic>True</psychic>
        <goodwillImpact>-15</goodwillImpact>
        <applyGoodwillImpactToLodgers>False</applyGoodwillImpactToLodgers>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>
  
  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>ChaosSkip</defName>
    <label>chaos skip</label>
    <description>Teleport the target to a random position near where he started.</description>
    <level>3</level>
    <iconPath>UI/Abilities/SkipChaos</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc8</hotKey>
    <statBases>
      <Ability_EntropyGain>18</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.02</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetItems>True</canTargetItems>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityTeleport">
        <compClass>CompAbilityEffect_Teleport</compClass>
        <destination>RandomInRange</destination>
        <randomRange>6.9~24.9</randomRange>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
        <destClamorType>Ability</destClamorType>
        <destClamorRadius>10</destClamorRadius>
        <stunTicks>70~120</stunTicks>
        <goodwillImpact>-15</goodwillImpact>
        <applyGoodwillImpactToLodgers>False</applyGoodwillImpactToLodgers>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Skip</defName>
    <label>skip</label>
    <description>Teleport the target to a desired position not too far from his starting point.</description>
    <level>4</level>
    <iconPath>UI/Abilities/Skip</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <showPsycastEffects>False</showPsycastEffects>
    <hotKey>Misc9</hotKey>
    <statBases>
      <Ability_EntropyGain>25</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.02</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>27.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetItems>True</canTargetItems>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityTeleport">
        <compClass>CompAbilityEffect_Teleport</compClass>
        <destination>Selected</destination>
        <requiresLineOfSight>True</requiresLineOfSight>
        <range>27.9</range>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
        <destClamorType>Ability</destClamorType>
        <destClamorRadius>10</destClamorRadius>
        <stunTicks>18~60</stunTicks>
        <goodwillImpact>-15</goodwillImpact>
        <applyGoodwillImpactToLodgers>False</applyGoodwillImpactToLodgers>
      </li>
    </comps>
  </AbilityDef>
  
  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Wallraise</defName>
    <label>wallraise</label>
    <description>Form a temporary wall by skipping rubble and soil up from deep under the ground.</description>
    <level>4</level>
    <iconPath>UI/Abilities/Wallraise</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc10</hotKey>
    <statBases>
      <Ability_EntropyGain>35</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.02</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityWallraise">
        <compClass>CompAbilityEffect_Wallraise</compClass>
        <pattern>
          <li>(0, 0)</li>
          <li>(1, 0)</li>
          <li>(-1, 0)</li>
          <li>(0, 1)</li>
          <li>(0, -1)</li>
        </pattern>
        <screenShakeIntensity>1.0</screenShakeIntensity>
        <clamorType>Ability</clamorType>
        <clamorRadius>25</clamorRadius>
        <sound>PsycastWallraise</sound>
      </li>
      <li Class="CompProperties_AbilityEffecterOnTarget">
        <effecterDef>Skip_Exit</effecterDef>
        <maintainForTicks>60</maintainForTicks>
        <scale>1.55</scale>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDefs>
          <li>PsycastSkipInnerExit</li>
          <li>PsycastSkipOuterRingExit</li>
        </fleckDefs>
        <scale>1.55</scale>
        <sound>Psycast_Skip_Exit</sound>
        <preCastTicks>5</preCastTicks>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Smokepop</defName>
    <label>smokepop</label>
    <description>Skip dust particles up from under the ground surface to form a thick cloud. This reduces the accuracy of any shot fired through it, and prevents turrets from locking on entirely.</description>
    <level>4</level>
    <iconPath>UI/Abilities/Smokepop</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc10</hotKey>
    <statBases>
      <Ability_EntropyGain>30</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.02</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilitySmokepop">
        <smokeRadius>3.5</smokeRadius>
        <clamorType>Ability</clamorType>
        <clamorRadius>15</clamorRadius>
      </li>
      <li Class="CompProperties_AbilityEffecterOnTarget">
        <effecterDef>Skip_Exit</effecterDef>
        <maintainForTicks>60</maintainForTicks>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDefs>
          <li>PsycastSkipInnerExit</li>
          <li>PsycastSkipOuterRingExit</li>
        </fleckDefs>
        <sound>Psycast_Skip_Exit</sound>
        <preCastTicks>5</preCastTicks>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Focus</defName>
    <label>focus</label>
    <description>Psychically focus the target's mind, boosting their sight, hearing and moving capacities.</description>
    <level>4</level>
    <iconPath>UI/Abilities/Focus</iconPath>
    <hotKey>Misc11</hotKey>
    <statBases>
      <Ability_EntropyGain>15</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.03</Ability_PsyfocusCost>
      <Ability_Duration>60</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>27.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicFocus</hediffDef>
        <onlyBrain>True</onlyBrain>
        <psychic>True</psychic>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Berserk</defName>
    <label>berserk</label>
    <description>Induce an angry psychosis in the target's mind, causing them to attack anyone nearby.</description>
    <level>5</level>
    <iconPath>UI/Abilities/Berserk</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>40</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.04</Ability_PsyfocusCost>
      <Ability_Duration>15</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.25</warmupTime>
      <range>19.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <neverTargetIncapacitated>True</neverTargetIncapacitated>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveMentalState">
        <compClass>CompAbilityEffect_GiveMentalState</compClass>
        <stateDef>Berserk</stateDef>
        <stateDefForMechs>BerserkMechanoid</stateDefForMechs>
        <psychic>True</psychic>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <goodwillImpact>-75</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Invisibility</defName>
    <label>invisibility</label>
    <description>Psychically manipulate the visual centers of everyone nearby, rendering them unable to perceive a particular individual for a short time.</description>
    <level>5</level>
    <iconPath>UI/Abilities/Invisibility</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>45</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.03</Ability_PsyfocusCost>
      <Ability_Duration>15</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>19.9</range>
      <onlyManualCast>True</onlyManualCast>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicInvisibility</hediffDef>
        <psychic>True</psychic>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
    
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>BerserkPulse</defName>
    <label>berserk pulse</label>
    <description>Generate an overwhelming rush of undirected rage in everyone near the target point.</description>
    <level>6</level>
    <iconPath>UI/Abilities/BerserkPulse</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>65</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.06</Ability_PsyfocusCost>
      <Ability_Duration>10</Ability_Duration>
      <Ability_EffectRadius>2.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>14.9</range>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetLocations>True</canTargetLocations>
        <canTargetAnimals>True</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveMentalState">
        <compClass>CompAbilityEffect_GiveMentalState</compClass>
        <stateDef>Berserk</stateDef>
        <stateDefForMechs>BerserkMechanoid</stateDefForMechs>
        <psychic>True</psychic>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <goodwillImpact>-75</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>ManhunterPulse</defName>
    <label>manhunter pulse</label>
    <description>Drive nearby animals into a manhunting rage using a psychic pulse.</description>
    <level>6</level>
    <iconPath>UI/Abilities/AnimalBerserkPulse</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>50</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.04</Ability_PsyfocusCost>
      <Ability_Duration>60</Ability_Duration>
      <Ability_EffectRadius>27.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>34.9</range>
      <targetParams>
        <canTargetHumans>False</canTargetHumans>
        <canTargetMechs>False</canTargetMechs>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityGiveMentalState">
        <compClass>CompAbilityEffect_GiveMentalState</compClass>
        <stateDef>Manhunter</stateDef>
        <psychic>True</psychic>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <goodwillImpact>-75</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsycastPsychicEffect</fleckDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>MassChaosSkip</defName>
    <label>mass chaos skip</label>
    <description>Skip everyone near a target point to a random location nearby.</description>
    <level>6</level>
    <iconPath>UI/Abilities/SkipChaosMass</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_EntropyGain>40</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.03</Ability_PsyfocusCost>
      <Ability_EffectRadius>7.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
        <canTargetAnimals>True</canTargetAnimals>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityTeleport">
        <compClass>CompAbilityEffect_Teleport</compClass>
        <destination>RandomInRange</destination>
        <randomRange>6.9~24.9</randomRange>
        <requiresLineOfSight>True</requiresLineOfSight>
        <goodwillImpact>-5</goodwillImpact>
        <clamorType>Ability</clamorType>
        <clamorRadius>25</clamorRadius>
        <stunTicks>70~120</stunTicks>
        <applyGoodwillImpactToLodgers>False</applyGoodwillImpactToLodgers>
      </li>
    </comps>
  </AbilityDef>
  
  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Waterskip</defName>
    <label>waterskip</label>
    <description>Douse a target area in water, extinguishing fires. The water is archotechnologically skipped from distant bodies of water or underground aquifers.</description>
    <level>2</level>
    <iconPath>UI/Abilities/Waterskip</iconPath>
    <hotKey>Misc12</hotKey>
    <canUseAoeToGetTargets>False</canUseAoeToGetTargets>
    <statBases>
      <Ability_EntropyGain>25</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.015</Ability_PsyfocusCost>
      <Ability_EffectRadius>1.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class = "CompProperties_AbilityWaterskip">
        <screenShakeIntensity>0.5</screenShakeIntensity>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
      </li>
      <li Class="CompProperties_AbilityEffecterOnTarget">
        <effecterDef>Skip_Exit</effecterDef>
        <maintainForTicks>60</maintainForTicks>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDefs>
          <li>PsycastSkipInnerExit</li>
          <li>PsycastSkipOuterRingExit</li>
        </fleckDefs>
        <sound>Psycast_Skip_Exit</sound>
        <preCastTicks>5</preCastTicks>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Flashstorm</defName>
    <label>flashstorm</label>
    <description>Use differential-pressure skipgates in the atmosphere to generate a localized flashstorm. The storm will strike the area with lightning for some time before dissipating.</description>
    <level>5</level>
    <iconPath>UI/Abilities/Flashstorm</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <canUseAoeToGetTargets>False</canUseAoeToGetTargets>
    <statBases>
      <Ability_EntropyGain>65</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.04</Ability_PsyfocusCost>
      <Ability_EffectRadius>13.9</Ability_EffectRadius>
      <Ability_Duration>164</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>19.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityFlashstorm">
        <goodwillImpact>-35</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>FlashstormAreaEffect</fleckDef>
        <sound>Psycast_Skip_Exit</sound>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>BulletShield</defName>
    <label>skipshield</label>
    <description>Generate a spherical skipgate that sends all incoming and outgoing ground-level projectiles to some distant place. People and items are not affected.</description>
    <level>6</level>
    <iconPath>UI/Abilities/BulletShield</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc12</hotKey>
    <canUseAoeToGetTargets>False</canUseAoeToGetTargets>
    <statBases>
      <Ability_EntropyGain>65</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.04</Ability_PsyfocusCost>
      <Ability_EffectRadius>4.9</Ability_EffectRadius>
      <Ability_Duration>15</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilitySpawn">
        <thingDef>BulletShieldPsychic</thingDef>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>BulletShieldAreaEffect</fleckDef>
        <sound>Psycast_Skip_Exit</sound>
      </li>
    </comps>
  </AbilityDef>

  <!-- Title related abilities -->

  <AbilityDef ParentName="SpeechBase">
    <defName>Speech</defName>
    <label>throne speech</label>
    <description>Initiate a speech from the throne. All colonists will come and listen. If it goes well, listeners will feel inspired, and gain respect for the speaker. If it goes poorly, the speech will do social damage. The outcome depends on the speaker's social abilities.</description>
    <comps>
      <li Class="CompProperties_AbilityStartRitual">
        <ritualDef>ThroneSpeech</ritualDef>
      </li>
    </comps>
  </AbilityDef>


  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>SolarPinhole</defName>
    <label>solar pinhole</label>
    <description>Generate a microscopic skipgate linked to the core of a nearby star. Solar material leaks through the pinprick in spacetime, illuminating and warming the surrounding area until it closes. The light is enough to work by, but not enough to grow plants.</description>
    <level>1</level>
    <iconPath>UI/Abilities/SolarPinhole</iconPath>
    <hotKey>Misc12</hotKey>
    <canUseAoeToGetTargets>False</canUseAoeToGetTargets>
    <statBases>
      <Ability_PsyfocusCost>0.08</Ability_PsyfocusCost>
      <Ability_EffectRadius>14.9</Ability_EffectRadius>
      <Ability_Duration>5000</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>0.2</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilitySpawn">
        <thingDef>SolarPinhole</thingDef>
        <allowOnBuildings>False</allowOnBuildings>
      </li>
      <li Class="CompProperties_AbilityEffecterOnTarget">
        <effecterDef>Skip_Exit</effecterDef>
        <maintainForTicks>60</maintainForTicks>
        <scale>0.42</scale>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDefs>
          <li>PsycastSkipInnerExit</li>
          <li>PsycastSkipOuterRingExit</li>
        </fleckDefs>
        <scale>0.42</scale>
        <sound>Psycast_Skip_Exit</sound>
        <preCastTicks>5</preCastTicks>
      </li>
    </comps>
  </AbilityDef>
  
  <AbilityDef Name="WordOfBase" ParentName="PsycastBase" Abstract="True">
    <jobDef>CastAbilityOnThingMelee</jobDef>
    <warmupMote>Mote_WarmupWordOf</warmupMote>
    <warmupSound>Psycast_WordOf_Warmup</warmupSound>
    <category>WordOf</category>
    <stunTargetWhileCasting>True</stunTargetWhileCasting>
    <showPsycastEffects>False</showPsycastEffects>
    <moteOffsetAmountTowardsTarget>0.5</moteOffsetAmountTowardsTarget>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <comps>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>WordOfApply</fleckDef>
        <sound>Psycast_WordOf_Effect</sound>
      </li>
    </comps>
    <verbProperties>
      <drawAimPie>False</drawAimPie>
      <range>-1</range>
      <targetParams>
        <canTargetBuildings>False</canTargetBuildings>
        <neverTargetHostileFaction>True</neverTargetHostileFaction>
      </targetParams>
    </verbProperties>
  </AbilityDef>

  <AbilityDef ParentName="WordOfBase">
    <defName>WordOfTrust</defName>
    <label>word of trust</label>
    <description>Speak to the prisoner while using psychic suggestion to reduce his resistance to recruitment. This can only reduce a prisoner's resistance, but cannot recruit him.</description>
    <level>1</level>
    <iconPath>UI/Abilities/WordOfTrust</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_PsyfocusCost>0.6</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>2</warmupTime>
      <targetParams>
        <onlyTargetPrisonersOfColony>True</onlyTargetPrisonersOfColony>
        <neverTargetIncapacitated>True</neverTargetIncapacitated>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityOffsetPrisonerResistance">
        <offset>-12</offset>
        <psychic>True</psychic>
      </li>
      <li Class="CompProperties_AbilitySocialInteraction">
        <interactionDef>WordOfTrust</interactionDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="WordOfBase">
    <defName>WordOfJoy</defName>
    <label>word of joy</label>
    <description>Speak happy, calming words to someone while using psychic suggestion to implant a joyfuzz loop in his mind. The joyfuzz will suppress uncomfortable thoughts and sensations in the target to improve mood. This has the side-effect of dulling sensation and decision-making, which reduces consciousness.</description>
    <level>2</level>
    <iconPath>UI/Abilities/WordOfJoy</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_PsyfocusCost>0.4</Ability_PsyfocusCost>
      <Ability_Duration>5000</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>2</warmupTime>
      <targetParams>
        <canTargetAnimals>False</canTargetAnimals>
        <canTargetSelf>True</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>Joyfuzz</hediffDef>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
        <onlyBrain>True</onlyBrain>
        <psychic>True</psychic>
        <applicableToMechs>False</applicableToMechs>
        <goodwillImpact>-25</goodwillImpact>
      </li>
      <li Class="CompProperties_AbilitySocialInteraction">
        <interactionDef>WordOfJoy</interactionDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="WordOfBase">
    <defName>WordOfLove</defName>
    <label>word of love</label>
    <description>Speak about someone's romantic virtues while using psychic suggestion to implant romantic desire in the listener. For days afterward, the listener will feel psychically-induced romantic attraction towards the other person. This greatly increases opinion and makes them much more likely to attempt romantic advances and marriage proposals if they get the chance. This power can be used to connect two other people, induce love for the caster, or force oneself to love another.</description>
    <level>3</level>
    <iconPath>UI/Abilities/WordOfLove</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_PsyfocusCost>0.5</Ability_PsyfocusCost>
      <Ability_Duration>8000</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>2</warmupTime>
      <targetParams>
        <canTargetAnimals>False</canTargetAnimals>
        <canTargetSelf>True</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityWordOfLove">
        <destination>Selected</destination>
        <psychic>True</psychic>
        <applicableToMechs>False</applicableToMechs>
      </li>
      <li Class="CompProperties_AbilitySocialInteraction">
        <interactionDef>WordOfLove</interactionDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="WordOfBase">
    <defName>WordOfSerenity</defName>
    <label>word of serenity</label>
    <description>Use calming words and psychic suggestion to end a mental break on a person or animal. The target will fall into a short psychic sleep. The psyfocus cost depends on the intensity of the target's mental break.</description>
    <level>4</level>
    <iconPath>UI/Abilities/WordOfSerenity</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_PsyfocusCost>0.3</Ability_PsyfocusCost> <!-- Minimum cost -->
      <Ability_Duration>246</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>2</warmupTime>
      <targetParams>
        <canTargetAnimals>False</canTargetAnimals>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityStopMentalState">
        <exceptions><li>Jailbreaker</li></exceptions>
        <psyfocusCostForMinor>0.3</psyfocusCostForMinor>
        <psyfocusCostForMajor>0.5</psyfocusCostForMajor>
        <psyfocusCostForExtreme>0.7</psyfocusCostForExtreme>
      </li>
      <li Class="CompProperties_AbilitySocialInteraction">
        <interactionDef>WordOfSerenity</interactionDef>
        <canApplyToMentallyBroken>True</canApplyToMentallyBroken>
      </li>
      <li Class="CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicComa</hediffDef>
        <durationMultiplier>PsychicSensitivity</durationMultiplier>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="WordOfBase">
    <defName>WordOfInspiration</defName>
    <label>word of inspiration</label>
    <description>Speak words encouraging creativity while psychically hypercharging the target's mind with new ideas. The target will experience a random inspiration appropriate to them.</description>
    <level>5</level>
    <iconPath>UI/Abilities/WordOfInspiration</iconPath>
    <hotKey>Misc12</hotKey>
    <statBases>
      <Ability_PsyfocusCost>0.8</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>2</warmupTime>
      <targetParams>
        <onlyTargetColonists>True</onlyTargetColonists>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityGiveInspiration"/>
      <li Class="CompProperties_AbilitySocialInteraction">
        <interactionDef>WordOfInspiration</interactionDef>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Farskip</defName>
    <label>farskip</label>
    <description>Skip the caster, along with anyone standing near him, to an ally at a distant location. This can send people far across the planet, but only works if there is a willing ally on the other side to use as a navigation beacon. The skipped people will always appear near a random ally on the target map.</description>
    <level>5</level>
    <iconPath>UI/Abilities/Farskip</iconPath>
    <hotKey>Misc12</hotKey>
    <targetWorldCell>True</targetWorldCell>
    <showGizmoOnWorldView>True</showGizmoOnWorldView>
    <statBases>
      <Ability_PsyfocusCost>0.7</Ability_PsyfocusCost>
      <Ability_EffectRadius>4.9</Ability_EffectRadius>
    </statBases>
    <verbProperties>
      <warmupTime>5</warmupTime>
      <range>4.9</range>
      <drawAimPie>False</drawAimPie>
      <requireLineOfSight>False</requireLineOfSight>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityFarskip">
        <stunTicks>18~60</stunTicks>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBase">
    <defName>Neuroquake</defName>
    <label>neuroquake</label>
    <description>Find a discontinuity in the psychic field and unfold it, releasing a massive amount of psychic energy. Every creature in range but outside of the safe, inner, circle will be driven violently insane. Casting this takes 12 seconds of meditation, and afterwards, the caster will go into a five-day psychic coma. The disturbing neuroquake echoes will inflict pain on everyone for many kilometers around, causing diplomatic consequences with all factions.</description>
    <level>6</level>
    <iconPath>UI/Abilities/Neuroquake</iconPath>
    <hotKey>Misc12</hotKey>
    <jobDef>CastAbilityOnThingUninterruptible</jobDef>
    <targetRequired>False</targetRequired>
    <canUseAoeToGetTargets>False</canUseAoeToGetTargets>
    <showPsycastEffects>False</showPsycastEffects>
    <showCastingProgressBar>True</showCastingProgressBar>
    <warmupMote>Mote_WarmupNeuroquake</warmupMote>
    <warmupStartSound>Psycast_Neuroquake_CastStart</warmupStartSound>
    <warmupSound>Psycast_Neuroquake_CastLoop</warmupSound>
    <warmupPreEndSound>Psycast_Neuroquake_CastEnd</warmupPreEndSound>
    <warmupPreEndSoundSeconds>5</warmupPreEndSoundSeconds>
    <statBases>
      <Ability_PsyfocusCost>0.5</Ability_PsyfocusCost>
      <Ability_EffectRadius>5.9</Ability_EffectRadius>
      <Ability_Duration>4800</Ability_Duration>
    </statBases>
    <verbProperties>
      <warmupTime>12</warmupTime>
      <range>5.9</range>
      <drawAimPie>False</drawAimPie>
      <requireLineOfSight>False</requireLineOfSight>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityNeuroquake">
        <goodwillImpactForBerserk>-75</goodwillImpactForBerserk>
        <goodwillImpactForNeuroquake>-10</goodwillImpactForNeuroquake>
        <worldRangeTiles>4</worldRangeTiles>
        <screenShakeIntensity>2</screenShakeIntensity>
        <mentalStateRadius>60</mentalStateRadius>
      </li>
      <li Class="CompProperties_AbilityGiveHediff">
        <compClass>CompAbilityEffect_GiveHediff</compClass>
        <hediffDef>PsychicComa</hediffDef>
        <onlyApplyToSelf>True</onlyApplyToSelf>
      </li>
      <li Class="CompProperties_AbilityFleckOnTarget">
        <fleckDef>PsychicApplyNeuroquake</fleckDef>
        <sound>Psycast_Neuroquake_Effect</sound>
      </li>
    </comps>
    <confirmationDialogText>If you use neuroquake, everyone in this region will feel the neuroquake echo, you will lose goodwill with every non-hostile faction.\n\nNeuroquake takes 12 seconds to cast, and cannot be interrupted. When complete, the caster will fall into a psychic coma for 5 days.\n\nEveryone in range except those in a small circle around the caster will be affected.\n\nDo you really want to cast neuroquake?</confirmationDialogText>
  </AbilityDef>

  <AbilityDef ParentName="PsycastBaseSkip">
    <defName>Chunkskip</defName>
    <label>chunk skip</label>
    <description>Skip the 5 chunks of rock or slag to scatter them near the target point. This is useful for producing cover during offensive operations.</description>
    <level>1</level>
    <iconPath>UI/Abilities/Chunkskip</iconPath>
    <writeCombatLog>True</writeCombatLog>
    <hotKey>Misc10</hotKey>
    <statBases>
      <Ability_EntropyGain>14</Ability_EntropyGain>
      <Ability_PsyfocusCost>0.04</Ability_PsyfocusCost>
    </statBases>
    <verbProperties>
      <warmupTime>1</warmupTime>
      <range>24.9</range>
      <targetParams>
        <canTargetPawns>False</canTargetPawns>
        <canTargetLocations>True</canTargetLocations>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityChunkskip">
        <chunkCount>5</chunkCount>
        <scatterRadius>2.9</scatterRadius>
        <psychic>False</psychic>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef ParentName="SpeechBase"> <!-- [Obsolete] -->
    <defName>AnimaTreeLinking</defName>
    <label>anima tree linking</label>
    <description>Start the anima tree linking ceremony. The linking person will meditate near the tree to gain a psylink level. Other psychically-sensitive colonists can also  help enhance the psychic link. More participants will accelerate the ceremony and cause some of the anima grass to re-grow as the ritual completes.</description>
    <targetRequired>True</targetRequired>
    <gizmoClass>Command_Ability</gizmoClass>
    <iconPath>UI/Icons/Rituals/AnimaTreeLinking</iconPath>
    <comps>
      <li Class="CompProperties_AbilityStartAnimaLinking">
        <ritualDef>AnimaTreeLinking</ritualDef>
      </li>
    </comps>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>-1</range>
      <targetParams>
        <canTargetAnimals>false</canTargetAnimals>
        <canTargetSelf>false</canTargetSelf>
        <canTargetMechs>false</canTargetMechs>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetHumans>false</canTargetHumans>
        <canTargetPlants>true</canTargetPlants>
        <onlyTargetAnimaTrees>true</onlyTargetAnimaTrees>
      </targetParams>
    </verbProperties>
    <hotKey>Misc12</hotKey>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
  </AbilityDef>
  
</Defs>